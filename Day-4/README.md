# –î–µ–Ω—å - 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã MVP, MVC

[–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é](https://drive.google.com/file/d/19z66AxKGZAUyYRAP-mzl6tym6z2vs3NF/view?usp=sharing)

[–ó–∞–ø–∏—Å—å –ª–µ–∫—Ü–∏–∏](https://drive.google.com/file/d/1bOlnaz3Spfceqj8lPkC3dr-UgfqTlu5H/view?usp=sharing)

>–°–µ–≥–æ–¥–Ω—è –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –¥–≤–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã MVC –∏ MVP, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ —Ä–∞–±–æ—Ç—É —Å UICollectionView, –∞ —Ç–∞–∫–∂–µ –±–∞–∑–æ–≤—É—é —Ä–∞–±–æ—Ç—É —Å –≤–µ—Ä—Å—Ç–∫–æ–π.

## –ü–æ–ª–µ–∑–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### Architecture

üèÑ‚Äç‚ôÄÔ∏è [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MVC –æ—Ç Apple](https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/MVC.html)

üèÑ‚Äç‚ôÄÔ∏è [–ü—Ä–æ—Å—Ç–∞—è —Å—Ç–∞—Ç—å—è –æ MVC –Ω–∞ —Ä—É—Å—Å–∫–æ–º](https://habr.com/ru/post/500870/)

üèÑ‚Äç‚ôÄÔ∏è [–°—Ç–∞—Ç—å—è, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∞—è —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É MVP –∏ MVC](https://saad-eloulladi.medium.com/ios-swift-mvp-architecture-pattern-a2b0c2d310a3)

üèÑ‚Äç‚ôÄÔ∏è [–°—Ç–∞—Ç—å—è –ø—Ä–æ —Ä–∞–∑–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](https://habr.com/ru/company/badoo/blog/281162/)

### UICollectionView

üèÑ‚Äç‚ôÄÔ∏è [UICollectionView documentation](https://developer.apple.com/documentation/uikit/uicollectionview)

üèÑ‚Äç‚ôÄÔ∏è [CollectionView Ray Wenderlich Tutorial](https://www.raywenderlich.com/136159/uicollectionview-tutorial-getting-started)

üèÑ‚Äç‚ôÄÔ∏è [CollectionView with NSHipster](https://nshipster.com/uicollectionview/)

### –í–Ω—É—Ç—Ä–µ–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–∫–∞–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã)
–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∞–∑—ã!

–í–ª–∞–¥ –ö–õ–∏–º–æ–≤ iOS —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ Surf
(—Å–æ–±–µ—Å–µ–¥–æ–≤–∞–ª –º–µ–Ω—è?)
UIViewCollection

### Layout —á—Ç–æ –∏ –∑–∞—á–µ–º

–ë–∞–∑–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–µ—Ä—Å—Ç–∫–æ–π

–ö–∞–∫–∏–µ –ø–æ–¥—Ö–æ–¥—ã —Å—É—â–µ—Ç—Å–≤—É—é—Ç

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ó–∞—á–µ–º –Ω—É–∂–Ω—ã?
–ü–û–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å –∫–∞–∫ —Å—Ç—Ä–æ–∏—Ç—å –∫–æ–¥
–∏ —Ä–∞–∑–¥–µ–ª—è—Ç—å –ª–æ–≥–∏–∫—É

–ù—É–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å –Ω–∞ –Ω–∏—Ö –≤–Ω–∏–º–∞–Ω–∏–µ

### MVC
–û—Ç–∫—É–¥–∞ –≤–∑—è–ª–æ—Å—å - Apple –ø—Ä–µ–∑–µ–Ω—Ç–æ–≤–∞–ª–∏
–í –æ—Ç–ª–∏—á–∏–∏ –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π
–∂–µ—Å—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–∏–ª–∏ –Ω–∞ —Å–ª–æ–∏

–º–æ–¥–µ–ª—å - –¥–∞–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ –ª–∏–∂–∞—Ç
–≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö –º–æ–¥–µ–ª—å - –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞
–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å

–º–æ–¥–µ–ª—å –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –≤—å—é

–≤—å—é —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä - –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–±—ä–µ–∫—Ç–æ–≤
–ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –º–æ–¥–µ–ª—å—é –∏ –≤—å—é

### MVP

–∑–∞–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
–ø—Ä–µ–∑–µ–Ω—Ç–µ—Ä –æ–±—Ä–∞—é–∞—Ç—ã–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

Surf - mvp

–∏ —Å–µ—Ä–≤–∏—Å—ã
–º–æ–¥–µ–ª–∏ = –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

–ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä
–∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—ã

–æ–¥–∏–Ω —Ñ–ª–æ—É = 1 –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä


### –°–ø–æ—Å–æ–±—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –∏–∑ –∫–æ–¥–∞
- —Å–µ–≥—É—ç–π
- –∫–Ω–æ–ø–∫–∞ –≤ —Å—Ç–æ—Ä–∏–±–æ–∞—Ä–¥

–ß–∞—â–µ –≤—Å–µ–≥–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏–∑ –∫–æ–¥–∞ —É —Å—é—Ä—Ñ

–Ω–∞ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —Å—Ç–æ—Ä–∏–±–æ–∞—Ä–¥—ã –Ω–µ —É–¥–æ–±–Ω–æ


### –ö–æ–ª–ª–µ–∫–∏–∏

–û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤
–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ö –∏—Å–ø–æ–ª—å–∑—É—è –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª—ç–π–æ—É—Ç

–õ—ç–π–æ—É—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ –Ω—É–∂–¥—ã
–≤–≤–µ—Ä—Ö –≤–Ω–∏–∑ –∏ —Ç–ø

–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —è—á–µ–µ–∫
reusable cell
UICollectionViewLayout
–∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å—Ç–∫–∏
UICollectionViewDataSource
–æ—Ç–≤–µ–∞–µ—Ç –∑–∞ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
—Å–µ–∫—Ü–∏–∏ —Ç–∏–ø—ã –∏ —Ç–ø

UICollectionViewDiffableDataSource - class
—ç—Ç–æ —ç–ø–ª –≤–∑—è–ª–∏ –∏–∑ –æ–ø–µ–Ω —Å–æ—É—Ä—Å
—Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–Ω–µ–ø—à–æ—Ç

### –ö–û—Ä–æ—Ç–∫–æ –ø—Ä–æ –≤–µ—Ä—Å—Ç–∫—É
–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç git Fork

IB –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏

–ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ didSet –Ω–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç

CALayer –≤—Ç–æ—Ä–æ–π —Å–ª–æ–π –ø–æ–¥ UIKit

–ª–∞–π—Ñ—Ö–∞–∫ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–º - –∫—Ä—É—Ç–æ! "\(.self)"


### –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–∫—Ä–∞–Ω –ø–æ–∏—Å–∫–∞ —Å –ø–æ–º–æ—â—å—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
–æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø—É—Å—Ç–æ–π —ç–∫—Ä–∞–Ω —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–π
